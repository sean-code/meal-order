{"ast":null,"code":"import _toConsumableArray from\"/home/moringa/Desktop/Front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/moringa/Desktop/Front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Meal from\"./meal\";import\"./menu.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(_ref){var setCart=_ref.setCart,cart=_ref.cart,setWarning=_ref.setWarning;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var baseUrl=\"http://localhost:8000\";useEffect(function(){fetch(\"\".concat(baseUrl,\"/meals\")).then(function(res){return res.json();}).then(function(meals){return setMeals(meals);});},[]);var handleClick=function handleClick(item){console.log(item);var isPresent=false;cart.forEach(function(product){if(item.id===product.id)isPresent=true;});if(isPresent){console.log(\"there\");setWarning(true);setTimeout(function(){setWarning(false);},2000);return;}setCart([].concat(_toConsumableArray(cart),[item]));};return/*#__PURE__*/_jsxs(\"main\",{className:\"main-menu\",children:[\" \",meals.map(function(meal){return/*#__PURE__*/_jsx(Meal,{meal:meal,handleClick:handleClick},meal.id);}),\" \"]});}export default Menu;","map":{"version":3,"names":["React","useState","useEffect","Meal","Menu","setCart","cart","setWarning","meals","setMeals","baseUrl","fetch","then","res","json","handleClick","item","console","log","isPresent","forEach","product","id","setTimeout","map","meal"],"sources":["/home/moringa/Desktop/Front-end/src/components/menu/menu.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Meal from \"./meal\";\nimport \"./menu.css\";\n\nfunction Menu({setCart, cart, setWarning}) {\n  const [meals, setMeals] = useState([]);\n  const baseUrl = \"http://localhost:8000\";\n\n  useEffect(() => {\n    fetch(`${baseUrl}/meals`)\n      .then((res) => res.json())\n      .then((meals) => setMeals(meals));\n  }, []);\n\n  const handleClick = (item)=>{\n    console.log(item)\n\t\tlet isPresent = false;\n\t\tcart.forEach((product)=>{\n\t\t\tif (item.id === product.id)\n\t\t\tisPresent = true;\n\t\t})\n\t\tif (isPresent){\n      console.log(\"there\")\n\t\t\tsetWarning(true);\n\t\t\tsetTimeout(()=>{\n\t\t\t\tsetWarning(false);\n\t\t\t}, 2000);\n\t\t\treturn ;\n\t\t}\n\t\tsetCart([...cart, item]);\n\t}\n\n  return (\n    <main className=\"main-menu\">\n      {\" \"}\n      {meals.map((meal) => (\n        <Meal key={meal.id} meal={meal} handleClick={handleClick} />\n      ))}{\" \"}\n    </main>\n  );\n}\n\nexport default Menu;"],"mappings":"kPAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAO,YAAY,CAAC,wFAEpB,QAASC,KAAI,MAA8B,IAA5BC,QAAO,MAAPA,OAAO,CAAEC,IAAI,MAAJA,IAAI,CAAEC,UAAU,MAAVA,UAAU,CACtC,cAA0BN,QAAQ,CAAC,EAAE,CAAC,wCAA/BO,KAAK,eAAEC,QAAQ,eACtB,GAAMC,QAAO,CAAG,uBAAuB,CAEvCR,SAAS,CAAC,UAAM,CACdS,KAAK,WAAID,OAAO,WAAS,CACtBE,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACJ,KAAK,QAAKC,SAAQ,CAACD,KAAK,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMO,YAAW,CAAG,QAAdA,YAAW,CAAIC,IAAI,CAAG,CAC1BC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACnB,GAAIG,UAAS,CAAG,KAAK,CACrBb,IAAI,CAACc,OAAO,CAAC,SAACC,OAAO,CAAG,CACvB,GAAIL,IAAI,CAACM,EAAE,GAAKD,OAAO,CAACC,EAAE,CAC1BH,SAAS,CAAG,IAAI,CACjB,CAAC,CAAC,CACF,GAAIA,SAAS,CAAC,CACVF,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACvBX,UAAU,CAAC,IAAI,CAAC,CAChBgB,UAAU,CAAC,UAAI,CACdhB,UAAU,CAAC,KAAK,CAAC,CAClB,CAAC,CAAE,IAAI,CAAC,CACR,OACD,CACAF,OAAO,8BAAKC,IAAI,GAAEU,IAAI,GAAE,CACzB,CAAC,CAEA,mBACE,cAAM,SAAS,CAAC,WAAW,WACxB,GAAG,CACHR,KAAK,CAACgB,GAAG,CAAC,SAACC,IAAI,qBACd,KAAC,IAAI,EAAe,IAAI,CAAEA,IAAK,CAAC,WAAW,CAAEV,WAAY,EAA9CU,IAAI,CAACH,EAAE,CAA0C,EAC7D,CAAC,CAAE,GAAG,GACF,CAEX,CAEA,cAAelB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}